<!DOCTYPE html>
<html>
    <head>
        <script src="pwabuilder-sw-register.js"></script>
        <script src="pwabuilder-sw.js"></script>
        <link rel='manifest' href='manifest.webmanifest'>
        <link rel="shortcut icon" href="./images/icon.png">
        <link rel="apple-touch-icon" href="./images/192x192.png">
        <link href="https://fluentdesignforweb.github.io/normalize.css" type="text/css" rel="stylesheet">
        <link href="https://fluentdesignforweb.github.io/fluent.css" type="text/css" rel="stylesheet">
        <link href="https://fluentdesignforweb.github.io/Icons/css/fluent-icons.css" type="text/css" rel="stylesheet">
        <script src="https://fluentdesignforweb.github.io/fluent.js"></script>
        <script src="extra.js"></script>
        <link href="extra.css" type="text/css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#2e2e2e">

        <script>
        let deferredPrompt = null;

            window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            });

            async function install() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                console.log(deferredPrompt)
                deferredPrompt.userChoice.then(function(choiceResult){

                if (choiceResult.outcome === 'accepted') {
                console.log('Your PWA has been installed');
                } else {
                console.log('User chose to not install your PWA');
                }

                deferredPrompt = null;

                });

            }
            closeinstaller();
            }

            function showinstaller(){
                document.getElementById("install_button_surface").style.display="Block";
                document.getElementById("body").style.filter="saturate(250%) blur(25px)";
            }
            
            function closeinstaller(){
                document.getElementById("install_button_surface").style.display="none";
                document.getElementById("body").style.filter="saturate(100%) blur(0px)";
            }
        </script>
        <script>
            function checkinstall(){
                if (window.matchMedia('(display-mode: standalone)').matches) {  
                    closeinstaller();
                    console.log('display-mode is standalone');
                }  
                else
                    showinstaller();
            }
        </script>

    </head>
    <body onload="darkmode(); checkinstall();" class="primary_inverted">

        <div id="body">

            <div class="nav_container" style="background: #3e3e3e; color: #eee; width: 100%; padding: 0px 30px; position: sticky; top: 0px;">
                <p class="left" style="font-size: 24px;">The Code Drop Box</p>
                <button class="right" style="margin-top: 17px; background: transparent; color: #eee; font-size: 24px;" onclick="openside1();">
                    <i class="ms-Icon ms-Icon--GlobalNavButton" aria-hidden="true"></i>
                </button>
            </div>

            <div class="page_container" style="padding-top: 25px;">
                <p style="font-size: 24px;">Latest Video</p>
                <div class="horizontal" id="scroll" onmousewheel="scrleft(event);">
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/8W9Pjhc4dGM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>CSS Project Part 1 - Dechat : Mobile First Chat Website</p>
                    </div>
                </div>
            </div>

            <div class="page_container" style="padding-top: 25px;">
                <p style="font-size: 24px;">CSS3</p>
                <div class="horizontal" id="scroll" onmousewheel="scrleft(event);">
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/puY-kHvRXzQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Introduction</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/YK0kWp9iwRk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Colors</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/TwI8cw_SB0A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Borders and Dimensions</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/f3zVcCPTuF8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>The Box Model</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <br><br><br>
                        <a href="https://www.youtube.com/watch?v=Gl2QEPdm_qY&list=PLjO1SSHoUq9W2XvL89RDli-bqwIpRD-kb" style="text-decoration: none; color: #aaa"><p style="font-size: 22px; width: 125px;">See all <i class="ms-Icon ms-Icon--Forward icon circular"></i></p></a>
                    </div>
                </div>
            </div>

            <div class="page_container" style="padding-top: 25px;">
                <p style="font-size: 24px;">HTML5</p>
                <div class="horizontal" id="scroll" onmousewheel="scrleft(event);">
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/Gl2QEPdm_qY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Setting up the environment</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/tcePlncF6tk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Structure of a webpage</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/pk3kId6Sj84" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>The Head Tag</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <iframe class="skeumorphic" width="320px" height="180px" src="https://www.youtube.com/embed/MHA9AJe4CYE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <p>Typography</p>
                    </div>
                    <div style="width: 320px; margin: 10px;">
                        <br><br><br>
                        <a href="https://www.youtube.com/watch?v=puY-kHvRXzQ&list=PLjO1SSHoUq9UdRvSFu2MDA2TqCBc0quLO" style="text-decoration: none; color: #aaa"><p style="font-size: 22px; width: 125px;">See all <i class="ms-Icon ms-Icon--Forward icon circular"></i></p></a>
                    </div>
                </div>
            </div>

            <div class="page_container" style="padding-top: 25px;">
                <hr>
                <p style="font-size: 24px;">New Content every Sunday Morning</p>
            </div>

            <div style="padding: 30px; background: #3e3e3e; color: #eee; margin-top: 25px; width: 100%;">
                Get connected with <b>The Code Drop</b> on these Platforms<br><br>
                <a href="https://www.youtube.com/channel/UCnEIkvnbpbQyetPk_K9QNQg?sub_confirmation=1" style="text-decoration: none;">
                    <button class="primary_red">YouTube</button>
                </a>
                <a href="https://www.instagram.com/thecodedrop/" style="text-decoration: none;">
                    <button style="background: linear-gradient(45deg, #de1738, purple); color: #eee">Instagram</button>
                </a>
                <a href="https://github.com/shivendrasaurav/The-Code-Drop-HTML" style="text-decoration: none;">
                    <button class="primary_inverted">GitHub</button>
                </a>
            </div>

        </div>

        <div class="sidepanel_container" id="side1" >
            <div class="sidepanel_content zi3 right" id="modct1" style="background: #2e2e2e; color: #eee;">
                <button class="primary_red right ta_center mod_close_btn" onclick="closeside1();">X</button>
                <div class="page_container" style="padding-top: 75px;">
                    <button class="large12 panel_item" onclick="lightmode(); closeside1();" id="light">Switch to light mode</button>
                    <button class="large12 panel_item" onclick="darkmode(); closeside1();" id="dark">Switch to dark mode</button>
                </div>
                <div style="position: absolute; bottom: 10px">
                    &copy;The Code Drop 2020
                </div>
            </div>
        </div>

        <div class="modal_container" id="install_button_surface">
            <div class="modal_content zi2">
                <div class="page_container">
                    <div class="columns large12 medium12 small12">
                        <br><br>
                        <img src="./images/icon.png" class="circular icon_large">
                        <p class="app_name right"><b>The Code Drop Box</b></p>
                        <hr><br><br>
                    </div>
                    <div class="columns large12 medium12 small12">
                        <p class="app_name">The Code Drop Box</p>
                        <p class="app_desc">
                            This is the official app for The Code Drop. You can find all the latest content from The Code Drop here on this app. Click on the install button below to install the app in your device.
                        </p>
                        <button class="left large primary_blue" onclick="install(); closeinstaller();">Install</button>
                        <button class="left primary_red can" onclick="closeinstaller();">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

    </body>

    <script>
        // This is the "Offline copy of pages" service worker

        // Add this below content to your HTML page, or add the js file to your page at the very top to register service worker

        // Check compatibility for the browser we're running this in
        if ("serviceWorker" in navigator) {
            if (navigator.serviceWorker.controller) {
                console.log("[PWA Builder] active service worker found, no need to register");
            } else {
                // Register the service worker
                navigator.serviceWorker
                .register("pwabuilder-sw.js", {
                    scope: "./"
                })
                .then(function (reg) {
                    console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
                });
            }
        }
    </script>
</html>